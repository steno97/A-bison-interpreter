global_variables{
	int prima=1000;	
	int seconda=0;
}

events{
	diminuiamo_prima; IF
	aumentiamo_seconda;
    errore;
	ciclo;
}

commands{
}

state idle{
	actions{print_schermo_message(stiamo nell'idle)};
	diminuiamo_prima=>dim;
	aumentiamo_seconda=>inc;
	errore=>error;
	ciclo=>cic;
	=>idle;
}


state dim{
	actions{dec(prima)};
	if(prima==0){
		print_schermo_message(non si può più diminuire prima);
	}
	aumentiamo_seconda=>inc;
	errore=>error;
	ciclo=>cic;
	=>idle;
}

inc{
	actions{inc(seconda)};
	if(seconda==5){
		print_schermo_message(seconda è arrivata a 5);
	}
	diminuiamo_prima=>dim;
	errore=>error;
	ciclo=>cic;
	=>idle;
}

state cic{
	actions{print_schermo_message(stiamo nel ciclo)};
	while(prima>=900){
		dec(prima);
	}	
	diminuiamo_prima=>dim;
	errore=>error;
	aumentiamo_seconda=>inc;
	=>idle;
}

state error{
	actions{print_schermo_message};
	=>idle;
}


